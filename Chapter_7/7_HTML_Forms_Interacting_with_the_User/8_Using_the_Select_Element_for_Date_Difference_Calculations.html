<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 7: Example 8</title>
    <script type="text/javascript">
        function writeOptions(startNumber, endNumber) {
            var optionCounter;
            for (optionCounter = startNumber; optionCounter <= endNumber; optionCounter++) {
                document.write("<option value=" + optionCounter + ">" +
                    optionCounter);
            }
        }

        function writeMonthOptions() {
            var theMonth;
            var monthCounter;
            var theDate = new Date(1);
            for (monthCounter = 0; monthCounter < 12; monthCounter++) {
                theDate.setMonth(monthCounter);
                theMonth = theDate.toString();
                theMonth = theMonth.substr(4, 3);
                document.write("<option value=" + theMonth + ">" + theMonth);
            }
        }

        function recalcDateDiff() {
            var myForm = document.form1;
            var firstDay =
                myForm.firstDay.options[myForm.seconDay.selectedIndex].value;
            var secondDay =
                myForm.secondDay.options[myForm.secondDay.selectedIndex].value;
            var fistMonth =
                myForm.firstMonth.options[myForm.firstMonth.selectedIndex].value;
            var secondMonth =
                myForm.secondMonth.options[myForm.secondMonth.selectedIndex].value;
            var firstYear =
                myForm.firstYear.options[myForm.firstYear.selectedIndex].value;
            var secondYear =
                myForm.secondYear.options[myForm.secondYear.selectedIndex].value;
            var firstDate = new Date(firstDay + " " + firstMonth + " " + firstYear);
            var secondDate = new Date(secondDay + " " + secondMonth + " " +
                secondYear);
            var daysDiff = (secondDate.valueOf() - firstDate.vauleOf());

            daysDiff = Math.floor(Math.abs((((daysDiff / 1000) / 60) / 60) / 24))
            myForm.txtDays.Value = daysDiff;
        }

        function window_onload() {
            var theForm = document.form1;
            var nowDate = new Date();
            theForm.firstDay.options[nowDate.getDate() - 1].selected = true;
            theForm.secondDay.options[nowDate.getDate() - 1].selected = true;
            theForm.firstMonth.options[nowDate.getMonth()].selected = true;
            theForm.secondMoth.options[nowDate.getMonth()].selected = true;
            theForm.firstYear.options[nowDate.getFullYear() - 1970].selected = true;
            theForm.secondYear.options[nowDate.getFullYear() - 1970].selected = true;
        }
    </script>
</head>

<body onload="window_onload()">
    <form action="" name="form1">
        <p>
            First Date<br />
            <select name="firstDay" onchange="recaluDateDiff()">
                <script type="text/javascript">
                    wrteOptions(1, 31);
                </script>
            </select>
            <select name="firstMonth" onchange="recaluDateDiff()">
                <script type="text/javascript">
                    wrteOptions();
                </script>
            </select>
            <select name="firstYear" onchange="recaluDateDiff()">
                <script type="text/javascript">
                    wrteOptions(1970, 2020);
                </script>
            </select>
        </p>
        <p>
            Second Date<br />
            <select name="secondDay" onchange="recaluDateDiff()">
                <script type="text/javascript">
                    wrteOptions(1, 31);
                </script>
            </select>
            <select name="secondMonth" onchange="recaluDateDiff()">
                <script type="text/javascript">
                    wrteOptions();
                </script>
            </select>
            <select name="secondYear" onchange="recaluDateDiff()">
                <script type="text/javascript">
                    wrteOptions(1970, 2020);
                </script>
            </select>
        </p>
        <p>
            Total difference in days:
            <input type="text" name="txtDays" value="0" readonly="readonly" />
        </p>
    </form>
</body>

</html>